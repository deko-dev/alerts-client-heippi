"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[340],{5340:(O,l,o)=>{o.r(l),o.d(l,{ChatModule:()=>b});var i=o(8583),e=o(8186),m=o(4509),x=o(1584),d=o(7353),g=o(665);const p=function(n){return{"message-right":n}};function h(n,a){if(1&n&&(e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"p"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.qZA()),2&n){const t=a.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.VKq(4,p,t.user===s.userCurrent.nickname)),e.xp6(3),e.Oqu(t.message),e.xp6(2),e.AsE("",t.user," - ",t.date,"")}}function C(n,a){if(1&n&&(e.ynx(0),e.YNc(1,h,6,6,"div",8),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.messages)}}let f=(()=>{class n{constructor(t,s,c){this.webSocketService=t,this.cookieService=s,this.router=c,this.message="",this.messages=[],this.userCurrent={},this.webSocketService.outEvent.subscribe(r=>{this.messages=r})}ngOnInit(){this.cookieService.get("user")?(this.userCurrent=JSON.parse(this.cookieService.get("user")),this.webSocketService.getMessages()):this.router.navigateByUrl("login")}sendMessage(){const t=new Date,s={date:`${t.getHours()} - ${t.getMinutes()}`,message:this.message,user:this.userCurrent.nickname};this.webSocketService.sendMessage(s),this.message=""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.l),e.Y36(x.N),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-chat"]],decls:8,vars:2,consts:[[1,"box-messages"],[1,"box-messages-all"],[1,"chat"],[4,"ngIf"],[1,"box-message-field"],["name","message","id","message",1,"message-field",3,"ngModel","ngModelChange"],[3,"click"],[1,"fas","fa-paper-plane"],["class","card-msj",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-msj",3,"ngClass"],[1,"content"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,C,2,1,"ng-container",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(r){return s.message=r}),e.qZA(),e.TgZ(6,"span",6),e.NdJ("click",function(){return s.sendMessage()}),e._UZ(7,"i",7),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",s.messages.length>0),e.xp6(2),e.Q6J("ngModel",s.message))},directives:[i.O5,g.Fj,g.JJ,g.On,i.sg,i.mk],styles:[".box-messages[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-color:#f3f7ff;display:flex;justify-content:center;align-items:flex-start;grid-gap:20px;gap:20px}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start;width:65%;height:90vh;margin-top:30px;background:#F3F7FF;border:2px solid #0A101F;box-sizing:border-box;box-shadow:3px 5px 10px #a6bedecc;border-radius:15px;display:flex;flex-direction:column;justify-content:start;align-items:center;grid-gap:40px;gap:40px}@media screen and (max-width: 420px){.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]{width:90%;height:80vh;padding-bottom:2rem}}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{width:100%;height:80%;overflow:auto;padding:10px 20px;display:flex;flex-direction:column;justify-content:start;align-items:flex-start;grid-gap:25px;gap:25px}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .card-msj[_ngcontent-%COMP%]{width:300px;padding:10px 30px;background:#f2f2f2;color:#7084b6;border-radius:15px;border:1px solid #6B94C7}@media screen and (max-width: 420px){.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .card-msj[_ngcontent-%COMP%]{width:250px;padding:5px 15px;min-height:60px}}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .card-msj[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:12px;font-weight:500;text-align:end}@media screen and (max-width: 420px){.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .card-msj[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   .card-msj.message-right[_ngcontent-%COMP%]{align-self:flex-end;background:#7084b6;color:#f2f2f2}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .box-message-field[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;justify-content:space-between;align-items:center}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .box-message-field[_ngcontent-%COMP%]   #message[_ngcontent-%COMP%]{width:90%;height:100%;margin-left:20px;border-radius:30px;outline:none;padding-left:40px;font-weight:300;font-size:16px;line-height:30px;letter-spacing:.1em;color:#304a95;border:1px solid #6B94C7}@media screen and (max-width: 420px){.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .box-message-field[_ngcontent-%COMP%]   #message[_ngcontent-%COMP%]{width:70%}}.box-messages[_ngcontent-%COMP%]   .box-messages-all[_ngcontent-%COMP%]   .box-message-field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;width:40px;height:40px;margin-right:auto;margin-left:auto;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:16px;background-color:#6b94c7;color:#f2f2f2}"]}),n})();var u=o(5985);const M=[{path:"",component:f}];let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[i.ez,d.Bz.forChild(M),u.HB,g.UX,g.u5]]}),n})()}}]);